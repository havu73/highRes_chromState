Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 1 (use --cores to define parallelism)
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	1	ROADMAP_get_segment_file_train_test
	1	ROADMAP_sort_segment_file
	1	all
	1	calculate_train_test_ROC_precall
	1	overlap_with_genome_contexts
	5

[Wed Jul  7 21:15:25 2021]
rule ROADMAP_sort_segment_file:
    input: ../../data/hg19/K562/roadmap_published_chromHMM/E123_15_coreMarks_segments.bed.gz
    output: ../../data/hg19/K562/roadmap_published_chromHMM/E123_15_coreMarks_segments_sorted.bed.gz
    jobid: 98

[Wed Jul  7 21:15:31 2021]
Finished job 98.
1 of 5 steps (20%) done

[Wed Jul  7 21:15:31 2021]
rule ROADMAP_get_segment_file_train_test:
    input: ../../data/hg19/K562/roadmap_published_chromHMM/E123_15_coreMarks_segments_sorted.bed.gz, ../../model_analysis/train_segments_sorted.bed.gz, ../../model_analysis/test_segments_sorted.bed.gz
    output: ../../data/hg19/K562/roadmap_published_chromHMM/train_and_test_segments_sorted/train_segments.bed.gz, ../../data/hg19/K562/roadmap_published_chromHMM/train_and_test_segments_sorted/test_segments.bed.gz
    jobid: 65

[Wed Jul  7 21:16:18 2021]
Finished job 65.
2 of 5 steps (40%) done

[Wed Jul  7 21:16:18 2021]
rule overlap_with_genome_contexts:
    input: ../../data/hg19/K562/roadmap_published_chromHMM/train_and_test_segments_sorted/train_segments.bed.gz, ../../data/hg19/K562/roadmap_published_chromHMM/train_and_test_segments_sorted/test_segments.bed.gz
    output: ../../data/hg19/K562/roadmap_published_chromHMM/overlap_crispr_mpra/train_overlap.txt, ../../data/hg19/K562/roadmap_published_chromHMM/overlap_crispr_mpra/test_overlap.txt
    jobid: 33
    wildcards: model_folder=../../data/hg19/K562/roadmap_published_chromHMM

[Wed Jul  7 21:16:36 2021]
Error in rule overlap_with_genome_contexts:
    jobid: 33
    output: ../../data/hg19/K562/roadmap_published_chromHMM/overlap_crispr_mpra/train_overlap.txt, ../../data/hg19/K562/roadmap_published_chromHMM/overlap_crispr_mpra/test_overlap.txt
    shell:
        
		java -jar ../../program_source/ChromHMM/ChromHMM/ChromHMM.jar OverlapEnrichment -noimage ../../data/hg19/K562/roadmap_published_chromHMM/train_and_test_segments_sorted/train_segments.bed.gz ../../data/hg19/K562/COORD_CRISPR_MPRA_DATA/for_enrichment {../../data/hg19/K562/roadmap_published_chromHMM}/overlap_crispr_mpra/train_overlap
		java -jar ../../program_source/ChromHMM/ChromHMM/ChromHMM.jar OverlapEnrichment -noimage ../../data/hg19/K562/roadmap_published_chromHMM/train_and_test_segments_sorted/test_segments.bed.gz ../../data/hg19/K562/COORD_CRISPR_MPRA_DATA/for_enrichment {../../data/hg19/K562/roadmap_published_chromHMM}/overlap_crispr_mpra/test_overlap
		
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: /gstore/home/vuh6/source/compare_overlap_external_annot/.snakemake/log/2021-07-07T211525.256388.snakemake.log
