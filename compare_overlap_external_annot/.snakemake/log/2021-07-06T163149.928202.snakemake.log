Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 2
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	1	all
	14	get_segment_file_train_test
	14	sort_segment_file
	29

[Tue Jul  6 16:31:50 2021]
rule sort_segment_file:
    input: ../../model_analysis/K562_hg19/three_mark_model/state_7/full_model/genome_7_segments.bed.gz
    output: ../../model_analysis/K562_hg19/three_mark_model/state_7/full_model/genome_7_segments_sorted.bed.gz
    jobid: 21
    wildcards: num_mark_model=three_mark_model, num_state=7


[Tue Jul  6 16:31:50 2021]
rule sort_segment_file:
    input: ../../model_analysis/K562_hg19/three_mark_model/state_8/full_model/genome_8_segments.bed.gz
    output: ../../model_analysis/K562_hg19/three_mark_model/state_8/full_model/genome_8_segments_sorted.bed.gz
    jobid: 22
    wildcards: num_mark_model=three_mark_model, num_state=8

[Tue Jul  6 16:32:00 2021]
Finished job 21.
1 of 29 steps (3%) done

[Tue Jul  6 16:32:00 2021]
rule get_segment_file_train_test:
    input: ../../model_analysis/K562_hg19/three_mark_model/state_7/full_model/genome_7_segments_sorted.bed.gz, ../../model_analysis/train_segments.bed.gz, ../../model_analysis/test_segments.bed.gz
    output: ../../model_analysis/K562_hg19/three_mark_model/state_7/full_model/train_and_test_segments/train_segments.bed.gz, ../../model_analysis/K562_hg19/three_mark_model/state_7/full_model/train_and_test_segments/test_segments.bed.gz
    jobid: 6
    wildcards: num_mark_model=three_mark_model, num_state=7

[Tue Jul  6 16:32:00 2021]
Finished job 22.
2 of 29 steps (7%) done

[Tue Jul  6 16:32:00 2021]
rule get_segment_file_train_test:
    input: ../../model_analysis/K562_hg19/three_mark_model/state_8/full_model/genome_8_segments_sorted.bed.gz, ../../model_analysis/train_segments.bed.gz, ../../model_analysis/test_segments.bed.gz
    output: ../../model_analysis/K562_hg19/three_mark_model/state_8/full_model/train_and_test_segments/train_segments.bed.gz, ../../model_analysis/K562_hg19/three_mark_model/state_8/full_model/train_and_test_segments/test_segments.bed.gz
    jobid: 7
    wildcards: num_mark_model=three_mark_model, num_state=8

[Tue Jul  6 16:32:12 2021]
Error in rule get_segment_file_train_test:
    jobid: 6
    output: ../../model_analysis/K562_hg19/three_mark_model/state_7/full_model/train_and_test_segments/train_segments.bed.gz, ../../model_analysis/K562_hg19/three_mark_model/state_7/full_model/train_and_test_segments/test_segments.bed.gz
    shell:
        	
		bedtools map -a ../../model_analysis/train_segments.bed.gz -b ../../model_analysis/K562_hg19/three_mark_model/state_7/full_model/genome_7_segments_sorted.bed.gz -c 4 -o collapse > ../../model_analysis/K562_hg19/three_mark_model/state_7/full_model/train_and_test_segments/train_segments.bed
		gzip ../../model_analysis/K562_hg19/three_mark_model/state_7/full_model/train_and_test_segments/train_segments.bed
		bedtools map -a ../../model_analysis/test_segments.bed.gz -b ../../model_analysis/K562_hg19/three_mark_model/state_7/full_model/genome_7_segments_sorted.bed.gz -c 4 -o collapse > ../../model_analysis/K562_hg19/three_mark_model/state_7/full_model/train_and_test_segments/test_segments.bed
		gzip ../../model_analysis/K562_hg19/three_mark_model/state_7/full_model/train_and_test_segments/test_segments.bed
		
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

[Tue Jul  6 16:32:12 2021]
Error in rule get_segment_file_train_test:
    jobid: 7
    output: ../../model_analysis/K562_hg19/three_mark_model/state_8/full_model/train_and_test_segments/train_segments.bed.gz, ../../model_analysis/K562_hg19/three_mark_model/state_8/full_model/train_and_test_segments/test_segments.bed.gz
    shell:
        	
		bedtools map -a ../../model_analysis/train_segments.bed.gz -b ../../model_analysis/K562_hg19/three_mark_model/state_8/full_model/genome_8_segments_sorted.bed.gz -c 4 -o collapse > ../../model_analysis/K562_hg19/three_mark_model/state_8/full_model/train_and_test_segments/train_segments.bed
		gzip ../../model_analysis/K562_hg19/three_mark_model/state_8/full_model/train_and_test_segments/train_segments.bed
		bedtools map -a ../../model_analysis/test_segments.bed.gz -b ../../model_analysis/K562_hg19/three_mark_model/state_8/full_model/genome_8_segments_sorted.bed.gz -c 4 -o collapse > ../../model_analysis/K562_hg19/three_mark_model/state_8/full_model/train_and_test_segments/test_segments.bed
		gzip ../../model_analysis/K562_hg19/three_mark_model/state_8/full_model/train_and_test_segments/test_segments.bed
		
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: /gstore/home/vuh6/source/compare_overlap_external_annot/.snakemake/log/2021-07-06T163149.928202.snakemake.log
